<section id="search" class="search-section">
	<!--<link href="css/winemodal.css" rel="stylesheet">-->
	<div class="container d-flex h-100 align-items-center">
      	<div class="mx-auto text-center">
			<form class="form-inline d-flex" action="{{ site.url }}/search.html" method="get">
				<!--<h2 class="text-white mb-5"><label for="search-box">Search</label></h2>-->
				<input type="text" class="form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0" id="search-box" name="query">
				<button type="submit" class="btn btn-primary mx-auto" value="search">Search</button>
			</form>
		</div>
	</div>

	<ul id="search-results"></ul>

	<script>
		window.store = {
			{% for vintage in site.data.vintages %}
			"{{ vintage.id }}": {
				"id": "{{ vintage.id | xml_escape }}",
				"title": "{{ vintage.title | xml_escape }}",
				"vintage": "{{ vintage.vintage | xml_escape }}",
				"category": "{{ vintage.category | xml_escape }}",
				"country": "{{ vintage.country | xml_escape }}",
				"region": "{{ vintage.region | xml_escape }}",
				"grapevariety": "{{ vintage.grapevariety | xml_escape }}",
				"valuepoint": "{{ vintage.valuepoint | xml_escape }}",
				"image": "{{ vintage.image | xml_escape }}"
			}
			{% unless forloop.last %},{% endunless %}
			{% endfor %}
		};
		
		function displayWineInfo(wineTitle, wineImage) {
			var parentDiv = document.getElementById("wineModalContent");
			parentDiv.innerHTML = "";
			var headerDiv = document.createElement("div");

			headerDiv.setAttribute("class","modal-header");
			headerDiv.innerHTML="<h4 class='modal-title'>" + wineTitle +
			"</h4><button type='button' class='close' data-dismiss='modal'>&times;</button>";

			parentDiv.appendChild(headerDiv);

			var bodyDiv = document.createElement("div");
			bodyDiv.setAttribute("class","modal-body");
			bodyDiv.innerHTML="<img src=" + wineImage + " style='width:60px;height:auto;'>";

			parentDiv.appendChild(bodyDiv);
		}

	</script>
	<script src="js/lunr.min.js"></script>
	<script src="js/search.js"></script> 

</section>